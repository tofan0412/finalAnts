<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ants.com.admin.mapper.AdminMapper">

	<select id="getAdmin" parameterType="ants.com.admin.model.AdminVo" resultType="ants.com.admin.model.AdminVo">
		SELECT  admin_id,
				admin_pass
		FROM ADMIN
		WHERE ADMIN_ID = #{adminId}
	</select>
	
	<select id="adlogincheck" parameterType="ants.com.admin.model.AdminVo" resultType="ants.com.admin.model.AdminVo">
		SELECT * FROM ADMIN
		WHERE ADMIN_ID = #{adminId}
		AND ADMIN_PASS = #{adminPass}
	</select>



	<!-- 회원 목록 -->
	<select id="memberlist" parameterType="ants.com.member.model.MemberVo" resultType="ants.com.member.model.MemberVo">
		SELECT c.*
			FROM (
				SELECT ROWNUM RNUM, a.*
				FROM (
					SELECT *
					FROM MEMBER
					WHERE DEL = 'N'
				) a
		WHERE ROWNUM <![CDATA[ <= ]]> #{lastIndex} ) c <![CDATA[ WHERE RNUM > #{firstIndex}]]>
<!-- 		SELECT * -->
<!-- 					FROM MEMBER -->
	</select>
	
	<!-- 목록 갯수  -->
	<select id="memberlistPagingListCnt" parameterType="ants.com.member.model.MemberVo" resultType="int">
		SELECT COUNT(*)
		  FROM MEMBER
	</select>
	
	
	
	<select id="getMember" parameterType="ants.com.member.model.MemberVo"
		resultType="ants.com.member.model.MemberVo">
		SELECT  mem_id,
			    mem_name,
			    mem_pass,
			    mem_tel,
			    mem_filepath,
			    mem_filename,
			    UPPER(mem_alert) as mem_alert,
			    UPPER(del) as del,
			    UPPER(mem_type) as mem_type
		FROM 	MEMBER
		WHERE     MEM_ID = #{memId}
	</select>
	
	<update id="memlistproupdate" parameterType="ants.com.member.model.MemberVo">
		UPDATE MEMBER SET mem_name = #{memName}, mem_pass = #{memPass}, mem_tel = #{memTel}, mem_filepath = #{memFilepath}, mem_filename = #{memFilename}, mem_type = #{memType}
		WHERE MEM_ID = #{memId}
	</update>
	
	<!-- 회원 삭제하기 -->
	<update id="delmemlist" parameterType="ants.com.member.model.MemberVo"> 
		UPDATE member 
			set del = 'Y' 
		where mem_id = #{memId}
	</update>
	
	
	
	
</mapper>